<%- include('./partials/header.ejs') %>
<%- include('./partials/navbar.ejs') %>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-3">
      <!-- Sidebar -->
      <%- include('./partials/sidebar.ejs') %>
    </div>
    <div class="col-md-9">
      <!-- Mani content -->
    <div class="container">
    <h2 class="mt-3">Update Products</h2>

    <% if (error) { %>
      <div class="alert alert-danger mt-4" role="alert">
        <%= error %>
      </div>
    <% } %>

    <% if(value) { %>
    <form class="mt-4"  action="/update-products" method="post">
        <input type="hidden" name="id" value="<%= value._id %>">
        <div class="form-row">
            <div class="form-group col-md-3">
                <label for="make">Make</label>
                <input type="text" class="form-control" id="make" name="make" value="<%= value.make %>">
              </div>
          <div class="form-group col-md-3">
            <label for="prodName">Product</label>
            <input type="text" class="form-control" id="prodName" name="prodName" value="<%= value.prodName %>" autocomplete="off">
          </div>          
        </div>
        <div class="form-row">
        <div class="form-group col-md-3">
          <label for="description">Description</label>
          <input type="text" class="form-control" id="description" name="description" value="<%= value.description %>" autocomplete="off">
        </div> 
        <div class="form-group col-md-3">
            <label for="image">Image URL</label>
            <input type="text" class="form-control" id="image" name="image" value="<%= value.image %>" autocomplete="off">
          </div>                
    </div>
        <div class="form-row">
            <div class="form-group col-md-2">
              <label for="price">Price</label>
              <input type="number" step="0.01" class="form-control" id="price" name="price" value="<%= value.price %>" autocomplete="off">
            </div>
            <div class="form-group col-md-2">
                <label for="quantity">Quantity</label>
                <input type="number" class="form-control" id="quantity" name="quantity" value="<%= value.quantity %>" autocomplete="off">
              </div>
          <div class="form-group col-md-2">
            <label for="category">Category</label>
            <select id="category" name="category" class="form-control">
                <option value="headphones" <%= value.category === 'headphones' ? 'selected' : '' %>>Headphones</option>
                <option value="trueWireless" <%= value.category === 'trueWireless' ? 'selected' : '' %>>True Wireless</option>
                <option value="speakers" <%= value.category === 'speakers' ? 'selected' : '' %>>Speakers</option>
            </select>
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary">UPDATE</button>
      </form>
      <% } else { %>
        <p>Error</p>
      <% } %>  
    </div>

      <!-- End Main Content -->
    </div>
  </div>
</div>

<%- include('./partials/footer.ejs') %>
